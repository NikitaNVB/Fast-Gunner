<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_zombie_idle</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-2</depth>
  <persistent>0</persistent>
  <parentName>obj_EnemyParent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// intialize zombie variables

maxHp = 10; //zombie's max health
hp = maxHp; //zombie's health
hSpd = 0; //intiailize horizontal speed
vSpd = 0; //initialize vertical speed
zombieMaxSpd = 1.2; //zombie's max movement speed
zombieAccel = 0.15; //zombie's acceleration

// Create the audio emitter
audio_em = audio_emitter_create();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// make zombie walk towards player


  
// Implementing gravity
if (!place_meeting(x, y+1, obj_inherit_Solid)){
    vSpd += obj_Player.grav;
}



if (hp &lt;= 0){ // if health drops below 0, kill enemy
    hp = 0;
    instance_destroy();
}

if (instance_exists(obj_Player)){ // chase the player
    
    if (distance_to_point(obj_Player.x, obj_Player.y) &gt;= 8) {
        if (x&lt;obj_Player.x) {
            image_xscale = 1;
            hSpd += zombieAccel;
        } else {
            image_xscale = -1;            
            hSpd -= zombieAccel;
        }
        // cap the movement speed
    if (hSpd &gt; zombieMaxSpd)
        hSpd = zombieMaxSpd;
        
    if (hSpd &lt; -zombieMaxSpd)
        hSpd = -zombieMaxSpd;
        
    }
        
}

// if zombie's walking, do animation
if (hSpd != 0){
    image_speed = 0.2;
    sprite_index = spr_zombie_walking;
}




scr_move(obj_inherit_Solid); // collide physics
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_Bullet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// When hit by bullet
with (other)
    instance_destroy(); //destroy the bullet
    
hp -= 1; //decrease health;

// play hit noise
audio_emitter_pitch(audio_em, 1);
audio_emitter_gain(audio_em, 0.1);
audio_play_sound_on(audio_em, snd_enemy_hit, false, 8);   

// blood effect
repeat (irandom_range(2, 3)) {
    // Create within an area
    var rand_x = irandom_range(-4, 4);
    var rand_y = irandom_range(-4, 4);
    
    instance_create(x+rand_x, y+rand_y, obj_Blood);
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// draw healthbars above enemy
draw_self();

if (hp &lt; maxHp)
    draw_healthbar(x-10, y-15, x+10, y-22.5, (hp/maxHp)*100, c_black, c_red, c_red, 0, true, true);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
